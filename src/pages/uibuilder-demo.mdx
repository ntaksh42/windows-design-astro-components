---
layout: ../layouts/BaseLayout.astro
title: UIBuilder デモ
---
import UIBuilder from '../components/ui/UIBuilder.astro';

# UIBuilder（JSON駆動UI生成）

JSON定義からUIを自動生成するコンポーネントです。AIが画像を解析して出力したJSONをそのまま使えます。

---

## 基本的な使い方

```astro
---
import UIBuilder from '../components/ui/UIBuilder.astro';

const uiSchema = {
  "type": "Button",
  "text": "クリック",
  "props": {"variant": "primary"}
};
---

<UIBuilder schema={uiSchema} />
```

---

## 例1: シンプルなボタン

**JSON**:
```json
{
  "type": "Button",
  "text": "保存",
  "props": {"variant": "primary"}
}
```

**結果**:

<UIBuilder schema={{
  type: "Button",
  text: "保存",
  props: { variant: "primary" }
}} />

---

## 例2: ラベルとテキストボックス

**JSON**:
```json
{
  "type": "FlowLayout",
  "props": {
    "direction": "vertical",
    "gap": 8,
    "padding": 20,
    "background": "#f9f9f9",
    "border": true
  },
  "children": [
    {"type": "Label", "text": "ユーザー名:"},
    {"type": "TextBox", "props": {"placeholder": "名前を入力", "width": 250}}
  ]
}
```

**結果**:

<UIBuilder schema={{
  type: "FlowLayout",
  props: {
    direction: "vertical",
    gap: 8,
    padding: 20,
    background: "#f9f9f9",
    border: true
  },
  children: [
    { type: "Label", text: "ユーザー名:" },
    { type: "TextBox", props: { placeholder: "名前を入力", width: 250 } }
  ]
}} />

---

## 例3: ボタングループ

**JSON**:
```json
{
  "type": "FlowLayout",
  "props": {
    "direction": "horizontal",
    "gap": 10,
    "padding": 15,
    "justify": "end",
    "background": "#f5f5f5",
    "border": true
  },
  "children": [
    {"type": "Button", "text": "キャンセル"},
    {"type": "Button", "text": "保存", "props": {"variant": "primary"}}
  ]
}
```

**結果**:

<UIBuilder schema={{
  type: "FlowLayout",
  props: {
    direction: "horizontal",
    gap: 10,
    padding: 15,
    justify: "end",
    background: "#f5f5f5",
    border: true
  },
  children: [
    { type: "Button", text: "キャンセル" },
    { type: "Button", text: "保存", props: { variant: "primary" } }
  ]
}} />

---

## 例4: ログインフォーム

**JSON**:
```json
{
  "type": "FlowLayout",
  "props": {
    "direction": "vertical",
    "gap": 15,
    "padding": 30,
    "background": "#ffffff",
    "border": true,
    "width": 400
  },
  "children": [
    {
      "type": "FlowLayout",
      "props": {"direction": "vertical", "gap": 5},
      "children": [
        {"type": "Label", "text": "ユーザー名:", "props": {"bold": true}},
        {"type": "TextBox", "props": {"placeholder": "ユーザー名を入力", "width": "100%"}}
      ]
    },
    {
      "type": "FlowLayout",
      "props": {"direction": "vertical", "gap": 5},
      "children": [
        {"type": "Label", "text": "パスワード:", "props": {"bold": true}},
        {"type": "TextBox", "props": {"type": "password", "placeholder": "パスワードを入力", "width": "100%"}}
      ]
    },
    {
      "type": "CheckBox",
      "props": {"label": "ログイン状態を保持"}
    },
    {
      "type": "FlowLayout",
      "props": {"gap": 10, "justify": "end"},
      "children": [
        {"type": "Button", "text": "キャンセル"},
        {"type": "Button", "text": "ログイン", "props": {"variant": "primary"}}
      ]
    }
  ]
}
```

**結果**:

<UIBuilder schema={{
  type: "FlowLayout",
  props: {
    direction: "vertical",
    gap: 15,
    padding: 30,
    background: "#ffffff",
    border: true,
    width: 400
  },
  children: [
    {
      type: "FlowLayout",
      props: { direction: "vertical", gap: 5 },
      children: [
        { type: "Label", text: "ユーザー名:", props: { bold: true } },
        { type: "TextBox", props: { placeholder: "ユーザー名を入力", width: "100%" } }
      ]
    },
    {
      type: "FlowLayout",
      props: { direction: "vertical", gap: 5 },
      children: [
        { type: "Label", text: "パスワード:", props: { bold: true } },
        { type: "TextBox", props: { type: "password", placeholder: "パスワードを入力", width: "100%" } }
      ]
    },
    {
      type: "CheckBox",
      props: { label: "ログイン状態を保持" }
    },
    {
      type: "FlowLayout",
      props: { gap: 10, justify: "end" },
      children: [
        { type: "Button", text: "キャンセル" },
        { type: "Button", text: "ログイン", props: { variant: "primary" } }
      ]
    }
  ]
}} />

---

## 例5: 設定画面

**JSON**:
```json
{
  "type": "FlowLayout",
  "props": {
    "direction": "vertical",
    "gap": 20,
    "padding": 20,
    "width": 450
  },
  "children": [
    {
      "type": "GroupBox",
      "props": {"title": "通知設定"},
      "children": [
        {
          "type": "FlowLayout",
          "props": {"direction": "vertical", "gap": 10, "padding": 15},
          "children": [
            {"type": "CheckBox", "props": {"label": "メール通知を受け取る", "checked": true}},
            {"type": "CheckBox", "props": {"label": "プッシュ通知を受け取る"}},
            {"type": "CheckBox", "props": {"label": "サウンドを再生", "checked": true}}
          ]
        }
      ]
    },
    {
      "type": "GroupBox",
      "props": {"title": "表示設定"},
      "children": [
        {
          "type": "FlowLayout",
          "props": {"direction": "vertical", "gap": 10, "padding": 15},
          "children": [
            {
              "type": "FlowLayout",
              "props": {"align": "center", "gap": 10},
              "children": [
                {"type": "Label", "text": "テーマ:"},
                {"type": "ComboBox", "props": {"options": ["ライト", "ダーク", "自動"], "width": 150}}
              ]
            },
            {
              "type": "FlowLayout",
              "props": {"align": "center", "gap": 10},
              "children": [
                {"type": "Label", "text": "フォントサイズ:"},
                {"type": "NumericUpDown", "props": {"min": 8, "max": 24, "value": 12, "width": 80}}
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "FlowLayout",
      "props": {"gap": 10, "justify": "end"},
      "children": [
        {"type": "Button", "text": "リセット"},
        {"type": "Button", "text": "キャンセル"},
        {"type": "Button", "text": "保存", "props": {"variant": "primary"}}
      ]
    }
  ]
}
```

**結果**:

<UIBuilder schema={{
  type: "FlowLayout",
  props: {
    direction: "vertical",
    gap: 20,
    padding: 20,
    width: 450
  },
  children: [
    {
      type: "GroupBox",
      props: { title: "通知設定" },
      children: [
        {
          type: "FlowLayout",
          props: { direction: "vertical", gap: 10, padding: 15 },
          children: [
            { type: "CheckBox", props: { label: "メール通知を受け取る", checked: true } },
            { type: "CheckBox", props: { label: "プッシュ通知を受け取る" } },
            { type: "CheckBox", props: { label: "サウンドを再生", checked: true } }
          ]
        }
      ]
    },
    {
      type: "GroupBox",
      props: { title: "表示設定" },
      children: [
        {
          type: "FlowLayout",
          props: { direction: "vertical", gap: 10, padding: 15 },
          children: [
            {
              type: "FlowLayout",
              props: { align: "center", gap: 10 },
              children: [
                { type: "Label", text: "テーマ:" },
                { type: "ComboBox", props: { options: ["ライト", "ダーク", "自動"], width: 150 } }
              ]
            },
            {
              type: "FlowLayout",
              props: { align: "center", gap: 10 },
              children: [
                { type: "Label", text: "フォントサイズ:" },
                { type: "NumericUpDown", props: { min: 8, max: 24, value: 12, width: 80 } }
              ]
            }
          ]
        }
      ]
    },
    {
      type: "FlowLayout",
      props: { gap: 10, justify: "end" },
      children: [
        { type: "Button", text: "リセット" },
        { type: "Button", text: "キャンセル" },
        { type: "Button", text: "保存", props: { variant: "primary" } }
      ]
    }
  ]
}} />

---

## 例6: プログレスバー付きダイアログ

**JSON**:
```json
{
  "type": "FlowLayout",
  "props": {
    "direction": "vertical",
    "gap": 15,
    "padding": 25,
    "background": "#ffffff",
    "border": true,
    "width": 400
  },
  "children": [
    {"type": "Label", "text": "ファイルをダウンロード中...", "props": {"bold": true}},
    {"type": "ProgressBar", "props": {"value": 65, "width": "100%"}},
    {"type": "Label", "text": "65% 完了 (325 MB / 500 MB)"},
    {
      "type": "FlowLayout",
      "props": {"gap": 10, "justify": "end"},
      "children": [
        {"type": "Button", "text": "キャンセル"}
      ]
    }
  ]
}
```

**結果**:

<UIBuilder schema={{
  type: "FlowLayout",
  props: {
    direction: "vertical",
    gap: 15,
    padding: 25,
    background: "#ffffff",
    border: true,
    width: 400
  },
  children: [
    { type: "Label", text: "ファイルをダウンロード中...", props: { bold: true } },
    { type: "ProgressBar", props: { value: 65, width: "100%" } },
    { type: "Label", text: "65% 完了 (325 MB / 500 MB)" },
    {
      type: "FlowLayout",
      props: { gap: 10, justify: "end" },
      children: [
        { type: "Button", text: "キャンセル" }
      ]
    }
  ]
}} />

---

## 使い方のヒント

### 1. JSON構造の基本
```json
{
  "type": "コンポーネント名",
  "props": { プロパティのオブジェクト },
  "children": [ 子要素の配列 ],
  "text": "テキスト内容"
}
```

### 2. レイアウトのネスト
- `FlowLayout` や `Container` の中に別の `FlowLayout` を入れられます
- 複雑なレイアウトは複数のコンテナをネストして実現

### 3. プロパティの省略
- 多くのプロパティにはデフォルト値があります
- 必要なものだけ指定すればOK

---

## 画像からUIを生成する

1. [画像からUI実装ガイド](/image-to-ui-guide) を参照
2. 画面をキャプチャ
3. AIにプロンプトと画像を送信
4. 生成されたJSONをこのページで試す
5. 必要に応じて調整

---

## 参考リンク

- [コンポーネントカタログ](/component-catalog) - 全コンポーネントのリファレンス
- [画像からUI実装ガイド](/image-to-ui-guide) - プロンプトテンプレート
- [Container デモ](/container-demo) - 絶対座標配置
- [FlowLayout デモ](/flowlayout-demo) - 自動配置
