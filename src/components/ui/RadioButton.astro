---
/**
 * RadioButton - Windows Forms風のラジオボタンコンポーネント
 *
 * @param label - ラベルテキスト
 * @param name - グループ名（同じnameの中から1つだけ選択可能）
 * @param value - ラジオボタンの値
 * @param checked - 選択状態
 * @param disabled - 無効化状態
 */
interface Props {
  label?: string;
  name: string;
  value: string;
  checked?: boolean;
  disabled?: boolean;
}

const {
  label = '',
  name,
  value,
  checked = false,
  disabled = false,
} = Astro.props;
---

<label class={`radio-button ${disabled ? 'disabled' : ''}`}>
  <input
    type="radio"
    name={name}
    value={value}
    checked={checked}
    disabled={disabled}
  />
  <span class="radio-indicator"></span>
  <span class="radio-label">
    <slot>{label}</slot>
  </span>
</label>

<style>
  .radio-button {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    cursor: pointer;
    user-select: none;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    font-size: 12px;
    color: #000000;
    padding: 2px;
  }

  .radio-button.disabled {
    cursor: not-allowed;
    color: #808080;
  }

  .radio-button input[type='radio'] {
    position: absolute;
    opacity: 0;
    width: 0;
    height: 0;
  }

  .radio-indicator {
    width: 13px;
    height: 13px;
    border-radius: 50%;
    background: linear-gradient(to bottom, #ffffff, #f0f0f0);
    border: 1px solid #7f7f7f;
    box-shadow:
      inset 0 1px 1px rgba(255, 255, 255, 0.8),
      0 1px 2px rgba(0, 0, 0, 0.1);
    position: relative;
    flex-shrink: 0;
    transition: all 0.15s ease;
  }

  .radio-button:hover:not(.disabled) .radio-indicator {
    background: linear-gradient(to bottom, #ffffff, #e5f3ff);
    border-color: #3c7fb1;
  }

  .radio-button input[type='radio']:checked + .radio-indicator::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 5px;
    height: 5px;
    border-radius: 50%;
    background: radial-gradient(circle, #000000, #2d2d2d);
    box-shadow: 0 0 1px rgba(0, 0, 0, 0.5);
  }

  .radio-button input[type='radio']:focus + .radio-indicator {
    outline: 1px dotted #000000;
    outline-offset: 1px;
  }

  .radio-button.disabled .radio-indicator {
    background: linear-gradient(to bottom, #f0f0f0, #e0e0e0);
    border-color: #a0a0a0;
  }

  .radio-button.disabled input[type='radio']:checked + .radio-indicator::before {
    background: radial-gradient(circle, #808080, #a0a0a0);
  }

  .radio-label {
    line-height: 1.2;
  }
</style>
