---
/**
 * Container - 絶対座標配置コンテナ
 * AIがUIを「描く」ために座標を指定して配置できるコンポーネント
 *
 * @param x - X座標（ピクセル）デフォルト: 0
 * @param y - Y座標（ピクセル）デフォルト: 0
 * @param width - 幅（ピクセルまたはパーセント）デフォルト: 'auto'
 * @param height - 高さ（ピクセルまたはパーセント）デフォルト: 'auto'
 * @param padding - 内側の余白（ピクセル）デフォルト: 0
 * @param background - 背景色 デフォルト: 'transparent'
 * @param border - ボーダーを表示するか デフォルト: false
 * @param relative - position: relative を使うか（デフォルト: false = absolute）
 */
interface Props {
  x?: number;
  y?: number;
  width?: number | string;
  height?: number | string;
  padding?: number;
  background?: string;
  border?: boolean;
  relative?: boolean;
  class?: string;
}

const {
  x = 0,
  y = 0,
  width = 'auto',
  height = 'auto',
  padding = 0,
  background = 'transparent',
  border = false,
  relative = false,
  class: className = '',
} = Astro.props;

// width/height の値を適切な文字列に変換
const widthValue = typeof width === 'number' ? `${width}px` : width;
const heightValue = typeof height === 'number' ? `${height}px` : height;
---

<div
  class={`container ${className}`}
  style={`
    left: ${x}px;
    top: ${y}px;
    width: ${widthValue};
    height: ${heightValue};
    padding: ${padding}px;
    background: ${background};
  `}
  data-relative={relative}
  data-border={border}
>
  <slot />
</div>

<style>
  .container {
    position: absolute;
    box-sizing: border-box;
  }

  .container[data-relative="true"] {
    position: relative;
    left: auto;
    top: auto;
  }

  .container[data-border="true"] {
    border: 1px solid #adadad;
    border-radius: 4px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }

  /* Windows Forms風の凹んだボーダースタイル */
  .container[data-border="true"].inset {
    border: 1px solid #7f9db9;
    border-top-color: #7f9db9;
    border-left-color: #7f9db9;
    border-right-color: #d9e3f0;
    border-bottom-color: #d9e3f0;
    background: white;
  }
</style>
